(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{157:function(t,e,o){var content=o(170);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(59).default)("642ab0c5",content,!0,{sourceMap:!1})},158:function(t,e,o){var content=o(172);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(59).default)("0aa25f70",content,!0,{sourceMap:!1})},159:function(t,e,o){var content=o(174);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(59).default)("d9147fe6",content,!0,{sourceMap:!1})},160:function(t,e,o){var content=o(176);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(59).default)("6816ad70",content,!0,{sourceMap:!1})},161:function(t,e,o){var content=o(178);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(59).default)("25b96e76",content,!0,{sourceMap:!1})},162:function(t,e,o){var content=o(180);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(59).default)("6f4e7a39",content,!0,{sourceMap:!1})},163:function(t,e,o){var content=o(182);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(59).default)("2e107364",content,!0,{sourceMap:!1})},164:function(t,e,o){"use strict";var r=o(6),n=o(165)(6),c="findIndex",l=!0;c in[]&&Array(1)[c]((function(){l=!1})),r(r.P+r.F*l,"Array",{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),o(78)(c)},165:function(t,e,o){var r=o(25),n=o(77),c=o(26),l=o(15),f=o(166);t.exports=function(t,e){var o=1==t,h=2==t,d=3==t,v=4==t,_=6==t,m=5==t||_,x=e||f;return function(e,f,y){for(var k,w,O=c(e),P=n(O),j=r(f,y,3),C=l(P.length),F=0,S=o?x(e,C):h?x(e,0):void 0;C>F;F++)if((m||F in P)&&(w=j(k=P[F],F,O),t))if(o)S[F]=w;else if(w)switch(t){case 3:return!0;case 5:return k;case 6:return F;case 2:S.push(k)}else if(v)return!1;return _?-1:d||v?v:S}}},166:function(t,e,o){var r=o(167);t.exports=function(t,e){return new(r(t))(e)}},167:function(t,e,o){var r=o(10),n=o(112),c=o(2)("species");t.exports=function(t){var e;return n(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!n(e.prototype)||(e=void 0),r(e)&&null===(e=e[c])&&(e=void 0)),void 0===e?Array:e}},168:function(t,e,o){var r=o(6),n=o(113)(!1);r(r.S,"Object",{values:function(t){return n(t)}})},169:function(t,e,o){"use strict";o(157)},170:function(t,e,o){(e=o(58)(!1)).push([t.i,".wrap{position:relative;display:flex;height:100vh}.wrap__bg{position:fixed;top:0;right:0;bottom:0;left:0;z-index:-1;background:rgba(27,32,79,.2)}",""]),t.exports=e},171:function(t,e,o){"use strict";o(158)},172:function(t,e,o){(e=o(58)(!1)).push([t.i,".vendor-filter__header{margin:0 0 1.5rem}.vendor-filter__title{font-weight:700;font-size:1.4rem;line-height:1.9rem}.vendor-filter__name{margin:0 .5rem;text-decoration:underline;cursor:pointer}.vendor-filter__name--active{color:orange}",""]),t.exports=e},173:function(t,e,o){"use strict";o(159)},174:function(t,e,o){(e=o(58)(!1)).push([t.i,".photo[data-v-ce1458e2]{display:flex;align-items:center;padding:4px;min-height:40px;background:#f7f8f9;border-radius:8px}.photo[data-v-ce1458e2]:hover{opacity:.8}.photo__img[data-v-ce1458e2]{height:32px;width:32px;flex-shrink:0;border-radius:8px}.photo__title[data-v-ce1458e2]{margin-left:11px;font-weight:700;font-size:12px;color:#1b204f}.photo__actions[data-v-ce1458e2]{margin-left:auto}.photo__like[data-v-ce1458e2]{padding:0 5px;font-size:20px;cursor:pointer}.photo__like--liked[data-v-ce1458e2]{color:#e35151}",""]),t.exports=e},175:function(t,e,o){"use strict";o(160)},176:function(t,e,o){(e=o(58)(!1)).push([t.i,".list[data-v-7d664beb]{display:grid;grid-gap:8px}",""]),t.exports=e},177:function(t,e,o){"use strict";o(161)},178:function(t,e,o){(e=o(58)(!1)).push([t.i,".group__title[data-v-314c027c]{margin-left:12px;margin-bottom:8px;font-weight:700;font-size:12px;line-height:16px;color:#1b204f}",""]),t.exports=e},179:function(t,e,o){"use strict";o(162)},180:function(t,e,o){(e=o(58)(!1)).push([t.i,".popup__body[data-v-74492882]{width:100%;max-width:1300px;height:600px;margin:auto;padding:3.6rem 4.8rem 6rem;font-weight:700;font-family:Open Sans,Roboto,sans-serif;font-size:1.2rem;background:#fff;border-radius:1.2rem;box-sizing:border-box}.popup__results[data-v-74492882]{display:grid;grid-auto-flow:column;grid-auto-columns:1fr;grid-gap:44px;max-height:480px;overflow-y:auto}.popup__results[data-v-74492882]::-webkit-scrollbar{width:5.5px}.popup__results[data-v-74492882]::-webkit-scrollbar-thumb{background-color:#f0f0f0;border-radius:2px}.popup__data-column[data-v-74492882]{display:grid;grid-gap:26px;align-self:baseline}",""]),t.exports=e},181:function(t,e,o){"use strict";o(163)},182:function(t,e,o){var r=o(58),n=o(183),c=o(184);e=r(!1);var l=n(c);e.push([t.i,"body{background-image:url("+l+");margin:0 10px}",""]),t.exports=e},183:function(t,e,o){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},184:function(t,e,o){t.exports=o.p+"img/bg.4e76469.jpg"},185:function(t,e,o){"use strict";o.r(e);o(60),o(24),o(23),o(13),o(47);var r=o(32),n=(o(164),o(34),o(3)),c=(o(168),{data:function(){return{}},computed:{},created:function(){},methods:{}}),l=(o(169),o(22)),f=Object(l.a)(c,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrap"},[this._t("default"),this._v(" "),e("div",{staticClass:"wrap__bg"})],2)}),[],!1,null,null,null).exports,h="isFavourite",d="album",v="asc",_={props:{activeFilter:{type:String,required:!0}},computed:{filters:function(){return[{label:"По альбомам",value:d},{label:"Избранное",value:h}]}},methods:{handleFilterClick:function(t){var e=this.activeFilter===t.value?v:t.value;this.$emit("changeFilter",e)}}},m=(o(171),Object(l.a)(_,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"vendor-filter"},[o("div",{staticClass:"vendor-filter__header"},[o("div",{staticClass:"vendor-filter__title"},[t._v("\n      Фильтр:\n      "),t._l(t.filters,(function(filter){return o("span",{key:filter.label,class:["vendor-filter__name",{"vendor-filter__name--active":filter.value===t.activeFilter}],on:{click:function(e){return t.handleFilterClick(filter)}}},[t._v(t._s(filter.label))])}))],2)])])}),[],!1,null,null,null).exports),x={name:"PhotosListItem",filters:{capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},props:{photo:{type:Object,required:!0}},methods:{handleLike:function(){this.$emit("like",this.photo.id)}}},y=(o(173),{name:"PhotosList",components:{PhotosListItem:Object(l.a)(x,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"photo"},[o("img",{staticClass:"photo__img",attrs:{src:t.photo.url,alt:t.photo.title}}),t._v(" "),o("div",{staticClass:"photo__title"},[t._v("\n    "+t._s(t._f("capitalize")(t.photo.title))+"\n  ")]),t._v(" "),o("div",{staticClass:"photo__actions"},[o("span",{class:["photo__like",{"photo__like--liked":t.photo.isFavourite}],on:{click:t.handleLike}},[t._v("❤")])])])}),[],!1,null,"ce1458e2",null).exports},props:{photos:{type:Array,required:!0}}}),k=(o(175),{name:"PhotosGroup",components:{PhotosList:Object(l.a)(y,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"list"},t._l(t.photos,(function(e){return o("PhotosListItem",{key:e.id,staticClass:"item",attrs:{photo:e},on:{like:function(e){return t.$emit("like",e)}}})})),1)}),[],!1,null,"7d664beb",null).exports},props:{photos:{type:Object,required:!0}}}),w=(o(177),Object(l.a)(k,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"group"},[o("div",{staticClass:"group__title"},[t._v(t._s(t.photos.title))]),t._v(" "),o("PhotosList",{attrs:{photos:t.photos.data},on:{like:function(e){return t.$emit("like",e)}}})],1)}),[],!1,null,"314c027c",null).exports);var O=o(79),P=o(80),j=function(){function t(){Object(O.a)(this,t)}return Object(P.a)(t,null,[{key:"setPhotos",value:function(data){localStorage.setItem("photos",JSON.stringify(data))}},{key:"getPhotos",value:function(){return JSON.parse(localStorage.getItem("photos"))}},{key:"setPhotosFilter",value:function(filter){localStorage.setItem("photosFilter",filter)}},{key:"getPhotosFilter",value:function(){return localStorage.getItem("photosFilter")}}]),t}(),C=function(t,e){var o;return Object.values(t.reduce((function(t,o){var r=e(o);return t[r]?t[r].data.length<5&&t[r].data.push(o):t[r]={title:r,data:[o]},t}),{})).sort((o="title",function(a,b){return(a="string"==typeof a[o]?a[o].toLowerCase():a[o])>(b="string"==typeof b[o]?b[o].toLowerCase():b[o])?1:a<b?-1:0}))},F=function(t){return C(t,(function(t){return t.title[0].toUpperCase()}))},S={name:"TestPopup",components:{PhotosGroup:w,VendorFilter:m,PopupContainer:f},props:{photos:{type:Array,required:!0}},data:function(){return{filterBy:v,windowWidth:window.innerWidth}},computed:{filteredArraySection:function(){var t,e=[];switch(this.filterBy){case h:var o=this.photos.filter((function(t){return t.isFavourite}));e=F(o);break;case d:t=this.photos,e=C(t,(function(t){return t.albumId}));break;case v:default:e=F(this.photos)}return function(t,e){for(var o=Math.ceil(t.length/e),r=[],i=0;i<t.length;i+=o)r.push(t.slice(i,i+o));return r}(e,4)}},watch:{filterBy:{handler:function(t){j.setPhotosFilter(t)}}},mounted:function(){this.filterBy=j.getPhotosFilter()||v},methods:{handleFilterChanging:function(t){this.filterBy=t}}},L=(o(179),Object(l.a)(S,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("PopupContainer",{staticClass:"popup"},[o("div",{staticClass:"popup__body"},[o("VendorFilter",{attrs:{"active-filter":t.filterBy},on:{changeFilter:t.handleFilterChanging}}),t._v(" "),o("div",{staticClass:"popup__results"},t._l(t.filteredArraySection,(function(e,r){return o("div",{key:r,staticClass:"popup__data-column"},t._l(e,(function(e){return o("PhotosGroup",{key:e.title,attrs:{photos:e},on:{like:function(e){return t.$emit("like",e)}}})})),1)})),0)],1)])}),[],!1,null,"74492882",null).exports),I=new(function(){function t(){Object(O.a)(this,t)}var e;return Object(P.a)(t,[{key:"getPhotos",value:(e=Object(n.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("https://jsonplaceholder.typicode.com","/photos?_limit=400"));case 2:return e=t.sent,t.next=5,e.json();case 5:return e=t.sent,t.abrupt("return",e);case 7:case"end":return t.stop()}}),t)}))),function(){return e.apply(this,arguments)})}]),t}());function $(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function A(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?$(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):$(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var z={components:{TestPopup:L},data:function(){return{photos:[]}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((o=j.getPhotos())instanceof Array)){e.next=5;break}t.photos=o,e.next=9;break;case 5:return e.next=7,I.getPhotos();case 7:t.photos=e.sent,t.saveInLocalStorage();case 9:case"end":return e.stop()}}),e)})))()},methods:{handleLikePhoto:function(t){var e=this.photos.findIndex((function(e){return e.id===t})),o=this.photos[e];this.$set(this.photos,e,A(A({},o),{},{isFavourite:!o.isFavourite})),this.saveInLocalStorage()},saveInLocalStorage:function(){j.setPhotos(this.photos)}}},E=(o(181),Object(l.a)(z,(function(){var t=this.$createElement;return(this._self._c||t)("TestPopup",{attrs:{photos:this.photos},on:{like:this.handleLikePhoto}})}),[],!1,null,null,null));e.default=E.exports}}]);